---
import BlogPost from "./BlogPost.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");

const sortedPosts = allPosts.sort((a, b) => {
  return b.frontmatter.pubDate.localeCompare(a.frontmatter.pubDate);
});

export async function getStaticPaths({ paginate }) {
  // Generate pages from our array of astronauts, with 2 to a page
  return paginate(sortedPosts, { pageSize: 3 });
}

const { page } = Astro.props;
console.log(page);
---

<div class="posts">
  {sortedPosts.map((post) => <BlogPost url={post.url} {...post.frontmatter} />)}
</div>

<style>
  .posts {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>
